## 🔗 네트워크 3주차 > Application Layer 2

## > 쿠키/세션

### 1. 쿠키와 세션에 대해서 설명해주세요.
> 웹 개발에서 사용자의 상태를 관리하는 데 필수적인 기술로 쿠키(Cookie)와 세션(Session)이 있다. 
> 기본적으로 HTTP 프로토콜 환경은 `connectionless`, `stateless`한 특성을 가지기 때문에 서버는 클라이언트가 누구인지 매번 확인해야 한다. 이 특성을 보완하기 위해서 쿠키와 세션을 사용한다.
>
> - 쿠키: 클라이언트 측에 저장되는 작은 데이터 조각으로, 사용자가 웹사이트를 방문할 때마다 서버에 전송된다. 사용자의 선호, 로그인 상태 등을 기억하여 사용자 경험을 개선하기 위해 사용된다.
> - 세션: 서버 측에서 사용자 정보를 저장하는 방식으로, 서버는 각 클라이언트에 고유 세션 ID를 할당한다. 이 ID를 통해 사용자의 상태를 관리하고, 쿠키에 비해 보안성이 높은 정보를 저장할 수 있다.
> 세션 정보는 서버에 저장되기 때문에 클라이언트 측에서 직접 접근할 수 없다.

> ❕쿠키 vs 세션
> 1. 쿠키는 클라이언트 측의 웹 브라우저에 저장되며, 세션은 서버 측에 저장된다. 쿠키는 사용자의 브라우저를 통해 서버와 데이터를 주고받기 위해 설계되었으며, 세션은 서버에서 사용자의 상태를 유지하기 위해 사용되기 때문이다.
> 2. 쿠키는 사용자가 직접 삭제하지 않는 한 만료 기간이 지나기 전까지 유지되지만, 세션은 사용자가 로그아웃하거나 브라우저를 닫는 등의 행동을 취할 때 종료된다. 세션은 사용자의 상태를 일시적으로 관리하기 위한 목적으로 사용되기 때문이다. 

<br>

### 2. JWT 토큰에 대해서 설명해주세요.
> JWT(JSON Web Token)는 웹 애플리케이션에서 사용자 인증과 정보를 안전하게 전송하는 데 사용되는 JSON 기반의 토큰이다.
>
> JWT는 다음과 같은 세 가지 부분으로 구성:
> 1. 헤더(Header): 토큰의 타입과 서명 알고리즘 정보를 포함합니다.
> 2. 페이로드(Payload): 사용자 정보나 클레임(속성)을 담고 있다. 이 정보는 비공식적이며, 암호화되지 않는다. 
> 3. 서명(Signature): 헤더와 페이로드를 비밀 키를 사용해 서명한 부분으로, 토큰의 무결성을 확인하고 변조를 방지한다.
<br>

## > REST


### 3. REST에 대해서 설명해주세요.  Restful API는 뭘까요?
> REST (Representational State Transfer)는 웹에서 자원을 정의하고 자원에 대한 상태를 전송하는 아키텍처 스타일이다.
> REST는 HTTP 메서드(GET, POST, PUT, DELETE 등)를 사용하여 자원에 접근하고 조작한다.
> 
> RESTful API는 REST 원칙을 따르는 API로, 다음과 같은 특징이 있다:
> - 자원 기반: URL을 통해 자원을 식별한다.
> - HTTP 메서드 사용: 자원에 대한 CRUD(생성, 읽기, 업데이트, 삭제) 작업을 HTTP 메서드로 수행한다.
> - 무상태성: 각 요청은 독립적이며 서버는 클라이언트의 상태를 저장하지 않는다.

<br>

### 4. REST 제약 조건에 대해 설명해주세요.
> REST 제약 조건은 REST 아키텍처 스타일을 따르는 시스템이 갖추어야 할 주요 특성이다.
> 1. 무상태성 (Stateless): 각 요청은 독립적이며 서버는 클라이언트의 상태를 저장하지 않는다. 클라이언트가 필요한 모든 정보를 요청에 포함해야 한다.
> 2. 클라이언트-서버 구조 (Client-Server): 클라이언트와 서버가 명확히 분리되어 있다. 클라이언트는 사용자 인터페이스와 사용자 경험을 처리하고, 서버는 데이터와 비즈니스 로직을 처리한다.
> 3. 캐시 가능성 (Cacheable): 응답은 캐시할 수 있어야 하며, 클라이언트는 이전 응답을 재사용할 수 있다. 이를 통해 성능과 효율성을 높일 수 있다.
> 4. 계층화 시스템 (Layered System): 시스템은 여러 계층으로 구성될 수 있으며, 각 계층은 독립적으로 동작한다. 클라이언트는 직접 서버와 상호작용하거나 중간 서버(예: 프록시)를 통해 상호작용할 수 있다.
> 5. 일관된 인터페이스 (Uniform Interface): RESTful API는 일관된 인터페이스를 제공하여 클라이언트와 서버 간의 상호작용을 단순화한다. 주요 요소로는 자원의 식별, 자원에 대한 조작, 자원의 표현, 자기 설명적인 메시지 등이 포함된다.
> 6. 자원 기반 (Resource-Oriented): REST는 자원(데이터 객체)을 중심으로 설계된다. 각 자원은 URL을 통해 식별되며, HTTP 메서드를 통해 조작된다.

<br>

### 5. URL, URI, URN 차이가 뭘까요?
> - URL: 자원의 위치와 접근 방법을 지정한다. 
> - URI: 자원을 식별하는 모든 형태의 문자열을 포함하며, URL과 URN을 포괄한다. 
> - URN: 자원의 고유한 이름을 제공하며, 자원의 위치를 알 필요 없이 자원을 식별한다.

<br>

## > 보안/캐시

### 6. SOP와 CORS에 대해서 설명해주세요.
> SOP는 보안을 위해 다른 출처의 자원 접근을 제한하고, CORS는 이 제한을 조정하여 특정 출처에서 자원에 접근할 수 있도록 허용하는 방법이다.
> - SOP (Same-Origin Policy):웹 브라우저의 보안 기능으로, 하나의 출처(origin)에서 로드된 웹 페이지가 다른 출처의 자원에 접근하는 것을 제한한다. 출처는 프로토콜, 도메인, 포트 번호로 구성된다.
> - CORS (Cross-Origin Resource Sharing): CORS는 SOP의 제약을 완화하기 위해 사용되는 메커니즘이다. 서버가 특정 출처의 요청을 허용하도록 명시적으로 설정할 수 있게 해준다. 서버는 응답 헤더에 Access-Control-Allow-Origin을 포함시켜, 클라이언트가 다른 출처에서 자원에 접근할 수 있도록 허용한다.
<br>

### 7. XSS 공격이 무엇이고, 방어하는 방법을 설명해주세요.
> XSS (Cross-Site Scripting) 공격은 악의적인 사용자가 웹 페이지에 스크립트를 삽입하여 다른 사용자에게 실행하게 만드는 공격이다.
> 이 공격을 통해 공격자는 사용자 정보를 탈취하거나 세션 하이재킹, 사이트 변조 등 다양한 악의적인 활동을 수행할 수 있다.
>
> ❕XSS 방어 방법:
> 1. 입력 검증 (Input Validation): 사용자 입력을 허용된 형식만 받아들이도록 검증한다. 예를 들어, 특수 문자를 필터링하거나 허용된 문자만 입력하도록 제한한다.
> 2. 출력 인코딩 (Output Encoding): 사용자 입력을 HTML, JavaScript, CSS 등으로 출력할 때 특수 문자를 인코딩하여 스크립트가 실행되지 않도록 한다.
> 3. 콘텐츠 보안 정책 (Content Security Policy, CSP): CSP를 설정하여 웹 페이지에서 신뢰된 소스에서만 스크립트를 로드하도록 제한한다. 
> 4. HTTP 응답 헤더 설정: X-XSS-Protection 헤더를 사용하여 브라우저의 XSS 필터를 활성화한다. 

<br>

### 8. CSRF 공격이 무엇이고, 방어하는 방법을 설명해주세요.
> CSRF (Cross-Site Request Forgery) 공격은 사용자가 인증된 세션을 가진 웹 애플리케이션에서 악의적인 요청을 강제로 실행하도록 만드는 공격이다.
> 공격자는 사용자가 자신의 웹사이트를 방문하는 동안, 인증된 상태에서 다른 사이트에 원하지 않는 요청을 전송하게 한다.
>
> ❕CSRF 방어 방법:
> 1. CSRF 토큰 사용: 각 요청에 고유한 CSRF 토큰을 포함시킨다. 서버는 이 토큰을 검증하여 요청이 유효한지를 확인한다. 
> 2. Referer 헤더 검증: 요청의 Referer 헤더를 검증하여 요청이 신뢰할 수 있는 출처에서 오는지 확인한다. 
> 3. SameSite 쿠키 속성 설정: 쿠키의 SameSite 속성을 설정하여, 쿠키가 타 도메인에서의 요청에 포함되지 않도록 한다.

<br>

### 9. SQL Injection 공격이 무엇이고, 방어하는 방법을 설명해주세요.
> SQL Injection 공격은 공격자가 악의적인 SQL 코드를 웹 애플리케이션의 데이터베이스 쿼리에 삽입하여 데이터베이스를 조작하거나 정보를 탈취하는 공격이다.
> 이 공격은 입력값이 적절히 검증되지 않거나, 쿼리 문자열이 직접적으로 실행될 때 발생한다.
>
> ❕SQL Injection 방어 방법:
> 1. 준비된 문장 (Prepared Statements) 및 매개변수화된 쿼리 사용: SQL 쿼리에서 변수와 값을 분리하여, 값이 쿼리의 구조에 영향을 미치지 않도록 한다.
> 2. 입력 검증 및 필터링: 사용자가 입력하는 데이터를 철저히 검증하고 필터링하여 악성 SQL 코드가 포함되지 않도록 한다. 예로 입력값에 대한 허용된 범위를 정의하고, 특수 문자를 필터링하여 SQL Injection을 예방한다.
> 3. ORM (Object-Relational Mapping) 사용: ORM을 사용하면 SQL 쿼리를 직접 작성하지 않고, 객체 지향 방식으로 데이터베이스를 조작할 수 있다. ORM은 내부적으로 SQL 쿼리를 안전하게 생성하므로 SQL Injection 공격에 대한 방어를 강화할 수 있다. 

<br>

### 10. 웹 캐시에 대해 설명해주세요.
> 웹 서버와 클라이언트 사이에서 데이터의 빠른 접근을 가능하게 하고, 서버의 부하를 줄이기 위해 자주 요청되는 웹 자원(예: 웹 페이지, 이미지, 스크립트 등)을 임시로 저장하는 메커니즘이다.
> 웹 캐시는 응답 속도를 개선하고 네트워크 대역폭을 절약하는 데 도움을 준다.
> 

<br>

## > 프록시

### 11. 프록시 서버에 대해서 설명해주세요.
> 프록시(proxy)는 "대리"의 의미로, 빠른 액세스와 안전한 통신을 확보하기 위한 중계 서버를 "프록시 서버"라고 일컫는다.
> 클라이언트와 웹 서버 중간에 위치하고 있어, "대리"로 통신을 받아주는 개념이라 생각하면 된다.
> 클라이언트가 서버에 요청을 보내면 이 요청이 프록시 서버를 통해 전달되며, 서버의 응답도 다시 프록시 서버를 경유하여 클라이언트에게 전달된다.
>
> ❕프록시 서버의 주요 기능과 특징:
> 1. 보안 강화: 프록시 서버는 클라이언트의 IP 주소를 숨기고, 외부와의 직접적인 접속을 방지한다.
> 2. 캐싱: 자주 요청되는 자원을 프록시 서버에 캐시하여, 동일한 자원에 대한 반복 요청 시 빠른 응답을 제공한다.
> 3. 접속 제어: 클라이언트의 요청을 제어하고 필터링하여 특정 웹사이트나 콘텐츠에 대한 접근을 제한할 수 있다. 
> 4. 로깅 및 모니터링: 클라이언트와 서버 간의 모든 요청과 응답을 기록하여, 트래픽 분석 및 모니터링을 가능하게 한다. 

<br>

### 12. 포워드 프록시에 대해서 설명해주세요.
> 클라이언트가 서버에 접근하기 위해 사용하는 프록시로, 클라이언트 대신 프록시 서버가 목적 서버에 통신해주는 구성을 말한다. 클라이언트 측에서 설정하여 서버와의 연결을 중계한다.
>
> 포워드 프록시는 클라이언트의 실제 IP 주소를 숨기고 프록시 서버의 IP 주소로 요청을 전송한다. 이를 통해 클라이언트의 신원을 보호하고 익명성을 제공한다.

<br>

### 13. 리버스 프록시에 대해서 설명해주세요.
> 서버 측에서 클라이언트의 요청을 수신하고, 적절한 백엔드 서버로 요청을 전달하는 프록시이다. 서버 측에서 설정하여 여러 서버의 로드 밸런싱, 캐싱, 보안 강화 등을 수행한다.
> 리버스 프록시는 클라이언트에게는 서버와 직접적으로 연결되는 것처럼 보이지만, 실제로는 여러 서버에 요청을 분산시키거나 추가적인 기능을 수행한다.
>
> ❕리버스 프록시의 주요 기능과 특징:
> 1. 로드 밸런싱 (Load Balancing): 클라이언트의 요청을 여러 백엔드 서버에 분산시켜, 각 서버의 부하를 균등하게 조절한다.
> 2. 보안 강화 (Security Enhancement): 리버스 프록시는 방화벽 역할을 하여 백엔드 서버를 외부의 직접적인 공격으로부터 보호한다.

<br>

### 14. L7 로드 밸런서에 대해서 설명해주세요.
> OSI 모델의 응용 계층(Layer 7)에서 작동하여, 애플리케이션 레벨의 트래픽을 기반으로 로드 밸런싱을 수행하는 장비나 소프트웨어이다.
> L7 로드 밸런서는 HTTP/HTTPS 트래픽을 이해하고, 요청의 콘텐츠를 분석하여 적절한 서버로 요청을 분산시킨다.
>
> ❕L7 로드 밸런서 주요 기능과 특징:
> 1. 콘텐츠 기반 라우팅 (Content-Based Routing): 요청의 URL, 헤더, 쿠키, 쿼리 문자열 등 요청의 콘텐츠에 기반하여 로드 밸런싱을 수행한다.
> 2. SSL 종료 (SSL Termination): SSL/TLS 암호화 연결을 L7 로드 밸런서에서 종료하고, 서버와의 연결은 평문으로 유지한다. 이를 통해 백엔드 서버의 부하를 줄일 수 있다.
> 3. 정적 및 동적 콘텐츠 분리: 정적 콘텐츠와 동적 콘텐츠를 분리하여 각각 적절한 서버로 요청을 전송할 수 있다. 예로 정적 파일(이미지, CSS, JavaScript 등)은 캐시된 서버로, 동적 요청(API 호출 등)은 애플리케이션 서버로 전송할 수 있다.
> 4. 로드 밸런싱 알고리즘: 요청을 분산시키기 위해 다양한 로드 밸런싱 알고리즘을 사용할 수 있다.

<br>

### 15. 커넥션 타임아웃과 리드 타임아웃에 대해 설명해주세요.
> 커넥션 타임아웃 (Connection Timeout)과 리드 타임아웃 (Read Timeout)은 네트워크 연결에서 발생할 수 있는 두 가지 주요 타임아웃 설정이다.
> - 커넥션 타임아웃: 클라이언트가 서버에 연결을 시도할 때, 커넥션 타임아웃은 연결이 설정되는 데 걸리는 최대 시간을 정의한다. 즉, 클라이언트가 서버와 연결을 시도한 후 서버가 응답을 보내기 전까지 대기할 수 있는 최대 시간이다.
> (서버가 응답을 보내지 않거나 네트워크 장애로 인해 서버와의 연결이 설정되지 않는 경우, 커넥션 타임아웃이 발생)
> - 리드 타임아웃: 리드 타임아웃은 클라이언트가 서버와의 연결이 설정된 후, 서버로부터 데이터를 읽는 데 걸리는 최대 시간을 정의한다. 즉, 연결이 설정된 상태에서 서버로부터 데이터를 수신하기까지 대기할 수 있는 최대 시간이다.
> (서버가 데이터를 보내지 않거나 응답이 지연될 때, 리드 타임아웃이 발생)
